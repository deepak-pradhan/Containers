
Ref: https://github.com/n8n-io/n8n-hosting/tree/main/docker-compose/withPostgresAndWorker 

The above has been modified so i have file assets in my local volume.

## 1. Environment Variables

Ensure that all required environment variables (`POSTGRES_USER`, `POSTGRES_PASSWORD`, etc.) are defined either in the Docker Compose file or an external `.env` file.

#### Using a `.env` File

Create a `.env` file in the same directory as your `docker-compose.yml`:
or 
- copy `.env` file from https://github.com/n8n-io/n8n-hosting/blob/main/docker-compose/withPostgresAndWorker/.env
- copy `init-data.sh` from https://github.com/n8n-io/n8n-hosting/blob/main/docker-compose/withPostgresAndWorker/init-data.sh

```text
POSTGRES_USER=myuser
POSTGRES_PASSWORD=mypassword
POSTGRES_DB=mydb
POSTGRES_NON_ROOT_USER=nonrootuser
POSTGRES_NON_ROOT_PASSWORD=nonrootpassword
ENCRYPTION_KEY=a-32-char-long-key-goes-here
```

## 2. Volume definitions

Ensure the directories exist on your host machine   

 Use bind mounts or ensure Docker has permissions to create them.    
 - $ mkdir /home/dp/Desktop/Github/Containers/my_n8n/volumes/storage_db   
 - $ mkdir /home/dp/Desktop/Github/Containers/my_n8n/volumes/storage_n8n   
 - $ mkdir /home/dp/Desktop/Github/Containers/my_n8n/volumes/storage_redis   
  

```bash
$ docker-compose down
$ docker-compose -f docker-compose.yml up -d

```

